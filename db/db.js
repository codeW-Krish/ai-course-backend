import {Pool} from "pg";
import dotenv from "dotenv";

dotenv.config();

const caCert = `-----BEGIN CERTIFICATE-----
MIIEUDCCArigAwIBAgIUYB6hbNhXht1O9sTJW+Y/zuTM/HEwDQYJKoZIhvcNAQEM
BQAwQDE+MDwGA1UEAww1NTJkNmEzYTYtYjk5Ny00MTk1LWJjZGYtYzI2NTMwNmNj
MGFlIEdFTiAxIFByb2plY3QgQ0EwHhcNMjUwODA0MTYyNTUyWhcNMzUwODAyMTYy
NTUyWjBAMT4wPAYDVQQDDDU1MmQ2YTNhNi1iOTk3LTQxOTUtYmNkZi1jMjY1MzA2
Y2MwYWUgR0VOIDEgUHJvamVjdCBDQTCCAaIwDQYJKoZIhvcNAQEBBQADggGPADCC
AYoCggGBAM9ip9nyGaLIQMynxaMc4dblJDSZpKn64Qh1loCiaGO+9ZXz1h7YUFTi
3EdXH949xZ7yufLe+IISUHesi0U1uMyASYXpWYGYOgxVQOSqvuo6JCjDODimm8Qp
zhBwYWr6LZvgC2a3QwOc5rAJ6TlQQQ5xwCqNYUb/ugizZo6oo8cOFzx0aLN2zPTr
mt8ro/aOzfQMDoZsqtIDZf/x0Br8g9J2tDee22fexUsRJ008cyrsnqVH8IuTaZ7B
c3k+O98fCKDYSfavWmF0fJ8P4tRnb6Nsob1T6/cNNG5ycYhadPHoCJC4iZwyGXhx
pExuIqox+4p58J1OkqYHmi0ihB1WkQ0+SqwebHYgUELmncYBT2EI7lTEZCi4ChZB
HcT0q1PVNVcv4GfcfLwrD1XsCvnzAcNlsBOGVeB8JKvM1H5/GcQtlBiOR/FHHtYh
fO3VvJJjF7gAxBHKkUctTYz2X+fFPRg+wwa/pKSrLYf/Y7pPoTVEl1AjE7kEgMPC
69csXSRV/QIDAQABo0IwQDAdBgNVHQ4EFgQUXljFwjyzQ8p7wgINreD4tXsrs1Mw
EgYDVR0TAQH/BAgwBgEB/wIBADALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQEMBQAD
ggGBAIpHcKEhp3ggc1H0STq5ItfIqLP7d55bZTbEchDxgTclnXiTO8rBvrxvrQuc
7hCDnID3mqOE3I+pVlIXyLB0wihg8uYb2dOgecUbv3MfRdzFB8bfS9TgTJV46G4i
1dVurI3ag/V6NTqj5rPCBiInpZdU7JqlyJkmBD0k016zAm8TYJ4ttQ9SCXFo7ksy
aDJz1TmV5c94aic3y5Lt1Y4BJRex6qahVu8OtSz9wVB/dHu6oXmy+vOvM1aP5cRM
DUiXkr0L79jLnvsYQCYfDY4Kr2Yzb9+WiR7CEsNRuWfqsUMxwuYN0o015J5OWYfW
/BoEbH3Iwvbemgp0rMWiTnAodNduS5ffoM0MjdhodBg8kdx1UFSA4XnEPi2JtVR0
0yvMYxD5INNs1AUs1esx1IkFFt2moIdfKbI5KwuLzt3EmQV9vumS3C73Vz+tMhek
3Y6zQi/xhga1pJxcuThUHIuDa2Dng7W48HfY4X3aay71bg3jURVvSTDBPXnuX9gZ
mpyO9w==
-----END CERTIFICATE-----
`

export const pool = new Pool({
    connectionString: process.env.DATABASE_URL,
    ssl: {
        rejectUnauthorized: true,
        ca: caCert.trim(),
    },
});

console.log("DATABASE_URL:", process.env.DATABASE_URL);


